cmake_minimum_required(VERSION 3.24)

project(ImGuiDx11Template VERSION 0.0.1 LANGUAGES CXX)

file(GLOB sources
	src/*.cpp
	src/*/*.cpp
	src/*/*/*.cpp
	src/*/*/*/*.cpp

)

file(GLOB headers
	src/*.hpp
	src/*/*.hpp
	src/*/*/*.hpp
	src/*/*/*/*.hpp
)

source_group(
	TREE ${CMAKE_CURRENT_SOURCE_DIR}
	FILES
	${headers}
	${sources}
)
add_executable(${PROJECT_NAME} ${headers} ${sources})


target_compile_features(${PROJECT_NAME} PUBLIC cxx_std_23)
target_link_options(${PROJECT_NAME} PUBLIC "/SUBSYSTEM:WINDOWS" "/ENTRY:mainCRTStartup")

find_package(imgui CONFIG REQUIRED)
target_link_libraries(${PROJECT_NAME} PUBLIC imgui::imgui d3d11.lib)
target_include_directories(ImGuiDx11Template PUBLIC BEFORE ${CMAKE_CURRENT_SOURCE_DIR})